local M = {}

local config = {
	include_bold = false,
	repeat_italic = false,
}

function M.setup(opts)
	opts = opts or {}

	config = vim.tbl_deep_extend("force", config, opts)

	local highlights = {
		Normal = { fg = "#A98D92", bg = "#121112" },
		-- highlight = {  fg = "#794966",  },
		Title = { fg = "#A98D92" },
		Number = { fg = "#d16d8a" },
		StatusLineNC = { bg = "#191319" },
		highlight = { italic = true, fg = "#445544" },
		WarningMsg = { fg = "#d16d8a" },
		Conceal = { fg = "#A98D92" },
		Cursor = { fg = "#222022", bg = "#A98D92" },
		iCursor = { bg = "#b1314c" },
		vCursor = { bg = "#79586E" },
		CursorIM = { bg = "#382536" },
		CursorColumn = { bg = "#382536" },
		CursorLine = { bg = "#291C28" },
		Directory = { fg = "#A98D92" },
		NonText = { fg = "#A98D92" },
		DiffAdd = { fg = "#b9e0d3", bg = "#1a563f" },
		DiffChange = { fg = "#b9e0d3", bg = "#1a563f" },
		DiffDelete = { fg = "#9d2640" },
		DiffText = { fg = "#A98D92" },
		EndOfBuffer = { fg = "#121112" },
		ErrorMsg = { fg = "#a23343" },
		VertSplit = { fg = "#382536" },
		Folded = { fg = "#A98D92" },
		FoldColumn = { fg = "#A98D92" },
		SignColumn = { fg = "#A98D92" },
		IncSearch = { fg = "#121112", bg = "#c64964" },
		CurSearch = { bg = "#373337" },
		LineNr = { fg = "#493441" },
		LineNrAbove = { fg = "#493441" },
		LineNrBelow = { fg = "#493441" },
		CursorLineNr = { fg = "#a1495c", bg = "#291C28" },
		MatchParen = { fg = "#ff8080" },
		ModeMsg = { fg = "#A98D92", bg = "#382536" },
		MoreMsg = { fg = "#A98D92", bg = "#382536" },
		Pmenu = { bg = "#191319" },
		PmenuSel = { bg = "#312531" },
		PmenuSbar = { bg = "#362a36" },
		PmenuThumb = { bg = "#362a36" },
		FloatBorder = { fg = "#352835", bg = "#191319" },
		NormalFloat = { bg = "#191319" },
		Question = { fg = "#A98D92" },
		QuickFixLine = { fg = "#b1314c" },
		Search = { bg = "#373337" },
		SpellBad = { bg = "NONE", sp = "#a1495c" },
		ColorColumn = { fg = "#A98D92", bg = "#493441" },
		SpellCap = { bg = "NONE", sp = "#a1495c" },
		SpellLocal = { bg = "NONE", sp = "#a1495c" },
		SpellRare = { bg = "NONE", sp = "#a1495c" },
		StatusLine = { bg = "#381B2F" },
		WinBarNC = { bg = "#191319" },
		WinSeparator = { fg = "#382536" },
		MsgSeparator = { fg = "#382536" },

		WinBar = { bg = "#381B2F" },
		StatusLineTerm = { fg = "#A98D92", bg = "#382536" },
		StatusLineTermNC = { bg = "#363436" },
		TabLine = { bg = "#191819" },
		TabLineFill = { bg = "#191319" },
		TabLineSel = { fg = "#A98D92" },
		Terminal = { fg = "#A98D92" },
		Visual = { bg = "#2d1524" },
		VisualYank = { bg = "#3e1d32" },
		LinewiseVisual = { bg = "#A98D92" },
		VisualNOS = { bg = "#43282f" },
		WildMenu = { bg = "#493441" },
		Comment = { fg = "#445544" },
		Constant = { fg = "#A8899C" },
		Identifier = { fg = "#A98D92" },
		Statement = { fg = "#794966" },
		PreProc = { fg = "#96674E" },
		Type = { fg = "#806292" },
		Special = { fg = "#806292" },
		Underlined = { fg = "#A98D92" },
		Ignore = { fg = "#A98D92" },
		Error = { fg = "#a23343" },
		Todo = { fg = "#c58d5d" },
		String = { fg = "#b16D8A" },
		Character = { fg = "#b16D8A" },
		Boolean = { fg = "#d16d8a" },
		Float = { fg = "#d16d8a" },
		Function = { fg = "#c58d5d" },
		Conditional = { fg = "#794966" },
		Repeat = { italic = config.repeat_italic, fg = "#794966" },
		Label = { fg = "#794966" },
		Whitespace = { fg = "#353135" },
		Operator = { fg = "#794966" },
		Keyword = { fg = "#a1495c" },
		Exception = { fg = "#96516E" },
		Include = { bold = config.include_bold, fg = "#96674E" },
		Define = { fg = "#96674E" },
		Macro = { fg = "#926C83" },
		PreCondit = { fg = "#c58d5d" },
		StorageClass = { fg = "#a1495c" },
		Structure = { fg = "#a1495c" },
		Typedef = { fg = "#a1495c" },
		SpecialChar = { fg = "#A8899C" },
		SpecialKey = { fg = "#A8899C" },
		Tag = { fg = "#a1495c" },
		Delimiter = { fg = "#794966" },
		SpecialComment = { fg = "#445544" },
		Debug = { fg = "#794966" },
		gitcommitSummary = { fg = "#A98D92" },

		-- lsp
		DiagnosticError = { fg = "#832936" },
		DiagnosticWarn = { fg = "#825c3e" },
		DiagnosticInfo = { fg = "#5d595d" },
		DiagnosticHint = { fg = "#5d595d" },
		DiagnosticOk = { fg = "#A8899C" },

		DiagnosticLinehlError = { bg = "#241317" },
		DiagnosticLinehlWarn = { bg = "#24180e" },
		DiagnosticLinehlInfo = { bg = "#1a181a" },
		DiagnosticLinehlHint = { bg = "#1a181a" },

		DiagnosticNumhlError = { fg = "#832936", bg = "#241317" },
		DiagnosticNumhlWarn = { fg = "#825c3e", bg = "#24180e" },
		DiagnosticNumhlInfo = { fg = "#5d595d", bg = "#1a181a" },
		DiagnosticNumhlHint = { fg = "#5d595d", bg = "#1a181a" },

		DiagnosticDeprecated = { bg = "NONE" },
		DiagnosticUnnecessary = { bg = "NONE" },
		DiagnosticUnderlineError = { undercurl = true, sp = "#832936" },
		DiagnosticUnderlineWarn = { undercurl = true, sp = "#825c3e" },
		DiagnosticUnderlineOk = { bg = "NONE" },
		DiagnosticUnderlineInfo = { undercurl = true, sp = "#5d595d" },
		DiagnosticUnderlineHint = { undercurl = true, sp = "#5d595d" },

		--  idk
		BufferCurrent = { bg = "#3d3339" },
		BufferCurrentIndex = { bg = "#3d3339" },
		BufferCurrentMod = { fg = "#d16d8a", bg = "#3d3339" },
		BufferCurrentSign = { bg = "#3d3339" },
		BufferCurrentTarget = { bg = "#3d3339" },
		BufferVisibleMod = { fg = "#d16d8a", bg = "#3d3339" },

		-- Mini colors
		MiniStatuslineModeInsert = { fg = "#121112", bg = "#b1314c" },
		MiniStatuslineModeVisual = { fg = "NONE", bg = "#471A37" },
		MiniGhostText = { fg = "#696059", bg = "NONE" },

		MiniCursorword = { bg = "#312531" },
		MiniCursorwordCurrent = { bg = "#312531" },
		-- MiniCursorword = { underline = true, sp = "#766975" },
		-- MiniCursorwordCurrent = { underline = true, sp = "#766975" },

		NvimTreeVertSplit = { bg = "#121112" },
		NvimTreeIndentMarker = { fg = "#30323E" },

		BlinkCmpGhostText = { fg = "#776e77" },
		BlinkCmpMenu = { fg = "#9d7b8f", bg = "#191319" },
		BlinkCmpMenuBorder = { fg = "#352835", bg = "#191319" },
		BlinkCmpDocBorder = { fg = "#352835", bg = "#191319" },
		BlinkCmpLabelMatch = { fg = "#995464" },

		TelescopeNormal = { fg = "#9d7b8f", bg = "#191319" },
		TelescopeSelection = { bg = "#312531" },
		TelescopeMatching = { fg = "#995464" },

		LazyGitFloat = { bg = "#191319" },
		LazyGitBorder = { bg = "#191319" },

		MultiCursorCursor = { bg = "#222022", fg = "#A98D92", standout = true },
		MultiCursorVisual = { link = "Visual" },
		MultiCursorSign = { link = "SignColumn" },
		MultiCursorMatchPreview = { link = "Search" },
		MultiCursorDisabledCursor = { bg = "#222022", fg = "#A98D92", standout = true },
		MultiCursorDisabledVisual = { link = "Visual" },
		MultiCursorDisabledSign = { link = "SignColumn" },

		-- treesitter
		["@include"] = { bold = config.include_bold, fg = "#96674E" },
		["@keyword.import"] = { bold = config.include_bold, fg = "#96674E" },
		["@character"] = { fg = "#b16D8A" },
		["@define"] = { fg = "#96674E" },
		["@string"] = { fg = "#b16D8A" },
		["@string.regex"] = { fg = "#b16D8A" },
		["@string.escape"] = { fg = "#794966" },
		["@string.special"] = { fg = "#95667C" },
		["@keyword"] = { fg = "#a1495c" },
		["@keyword.function"] = { fg = "#a1495c" },
		["@keyword.return"] = { fg = "#794966" },
		["@keyword.js"] = { fg = "#794966" },
		["@keyword.operator"] = { fg = "#794966" },
		["@keyword.directive"] = { fg = "#95667C" },
		["@variable"] = { fg = "#A98D92" },
		["@variable.builtin"] = { fg = "#806292" },
		["@symbol"] = { fg = "#926C83" },
		["@tag.delimiter"] = { fg = "#95667C" },
		-- ["@tag.attribute"] = {  fg = "#A8899C",  },
		["@attribute"] = { fg = "#A8899C" },
		["@text"] = { fg = "#A98D92" },
		["@text.strong"] = { fg = "#A98D92" },
		["@text.emphasis"] = { fg = "#A98D92" },
		["@text.uri"] = { fg = "#b16D8A" },
		["@namespace"] = { fg = "#8F5E7B" },
		["@type"] = { fg = "#806292" },
		["@module"] = { fg = "#806292" },
		["@type.definition"] = { fg = "#806292" },
		["@type.builtin"] = { fg = "#806292" },
		["@structure"] = { fg = "#806292" },
		["@function"] = { fg = "#c58d5d" },
		["@function.macro"] = { fg = "#9B668F" },
		["@method"] = { fg = "#c58d5d" },
		["@method.call"] = { fg = "#c58d5d" },
		["@constructor"] = { fg = "#806292" },
		["@field"] = { fg = "#926C83" },
		["@property"] = { fg = "#926C83" },
		["@variable.member"] = { fg = "#926C83" },
		["@variable.parameter"] = { fg = "#A98D92" },
		["@variable.parameter.reference"] = { fg = "#9f8d8c" },
		["@number"] = { fg = "#d16d8a" },
		["@float"] = { fg = "#d16d8a" },
		["@boolean"] = { fg = "#d16d8a" },
		["@constant"] = { fg = "#A8899C" },
		["@constant.builtin"] = { fg = "#9B668F" },
		["@constant.macro"] = { fg = "#AF655A" },
		["@punctuation.delimiter"] = { fg = "#794966" },
		["@punctuation.bracket"] = { fg = "#95667C" },
		["@punctuation.special"] = { fg = "#794966" },
		["@operator"] = { fg = "#794966" },
		["@keyword.conditional"] = { italic = config.repeat_italic, fg = "#794966" },
		["@keyword.repeat"] = { italic = config.repeat_italic, fg = "#794966" },
		["@exception"] = { fg = "#96516E" },
		["@keyword.exception"] = { fg = "#96516E" },
		["@label"] = { fg = "#96516E" },
		["@macro"] = { fg = "#926C83" },
		["@todo"] = { fg = "#AF655A" },
		["@preproc"] = { fg = "#96674E" },
		["@debug"] = { fg = "#794966" },
		["@storageclass"] = { fg = "#a1495c" },
		["@storageclass.lifetime"] = { fg = "#9B668F" },
		["@comment"] = { fg = "#445544" },
		["@function.call"] = { fg = "#c58d5d" },
		["@function.builtin"] = { fg = "#c58d5d" },
		["@type.qualifier"] = { fg = "#a1495c" },
		["@text.literal"] = { fg = "#9f8d8c" },
		["@text.title"] = { fg = "#A98D92" },
		["@text.underline"] = { fg = "#A98D92" },
		["@tag"] = { fg = "#a1495c" },
		["@tag.builtin"] = { fg = "#a1495c" },
		["@tag.tsx"] = { fg = "#c58d5d" },
		["@tag.attribute"] = { fg = "#926C83" },
	}

	for group, hl_opts in pairs(highlights) do
		vim.api.nvim_set_hl(0, group, hl_opts)
	end
end

return M
